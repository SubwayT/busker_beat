<!-- templates/map.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Busker Beat - マップ</title>
    <!-- Leaflet　CSS -->
    <link 
        rel="stylesheet" 
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
        crossorigin="" 
    />
    <!-- カスタム　CSS -->
    <style>
        #map { height: 600px; width: 100%; }
    </style>

    <!-- Leaflet　JS -->
    <script 
        src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
        crossorigin=""
    ></script>
</head>

<body>
    <h1>Busker Beat</h1>
    <div id="auth-buttons" style="position: absolute; top: 20px; left: 20px; z-index: 1000;">
        {% if session.get("user_id") %}
            <span>ようこそ、ログイン中（ユーザーID: {{ session["user_id"] }}）！</span>
            <a href="/logout">ログアウト</a>
        {% else %}
            <button id="loginBtn">ログイン</button>
            <button id="signupBtn">新規登録</button>
        {% endif %}
    </div>
    {% include "_auth_modal.html" %}
    {% include "_map.html" %}
    {% include "_post_cards.html" %}
</body>
</html>